<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>test6_JSON.html</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    'use strict'

    // JSON.stringify() : Javascript의 Object객체를 JSON의 문자열로 변환
    let json = JSON.stringify(true);
    console.log("1. ",json);
    console.log('');
    
    json = JSON.stringify(1234);
    console.log("2. ",json);
    console.log('');
    
    json = JSON.stringify(['사과', '배', '바나나', true, 1234]);
    console.log("3. ",json);
    console.log('');

    const member = {
      name: '홍길동',
      age: 25,
      gender: true,
      address: '청주시 흥덕구',
      birthday: new Date(),
      atom: function() {
        console.log('성명 :', member.name);
      }
    }
    console.log("4.member객체 : ", member);
    console.log("5.member객체의 atom호출: ", member.atom);

    //Javascript객체를 JSON문자열로 변환
    const jsonStr = JSON.stringify(member);
    console.log("6.jsonStr : ", jsonStr);
    console.log('');
    
    let json2 = JSON.stringify(member, (key, value) => {
      // 키와 값의 처리...
      return key === 'name' ? '사용자' : value;
    });
    console.log("7.json2 : ", json2);
    console.log('');

    // JSON형식을 Javascript객체로 변환하기
    let text = 
      '{"회원정보" : [' +
          '{"성":"홍", "이름":"길동"},' +
          '{"성":"김", "이름":"말숙"},' +
          '{"성":"이", "이름":"기자"},' +
          '{"성":"소", "이름":"나무"}' +
        ']}';
        
    const jsObj = JSON.parse(text);
    console.log("8.jsObj :",jsObj);
    console.log("9.jsObj[0] :", jsObj.회원정보);
    console.log("10.jsObj[0] :", jsObj.회원정보[0]);
    console.log("11.jsObj[0] :", jsObj.회원정보[0].이름);

  </script>
</head>
<body>
<p><br/></p>
<div class="container">
  <h3>JSON 자료 활용예제</h3>
  <h2>웹을 통한 자료의 전달 : XML, JSON</h2>
  <pre>
    JSON : Javascript Object Notation
    ==> 모바일(웹)에서의 서버와 클라이언트간의 데이터 전송방식에서 사용한다.
    특징 : 프로그램의 종류나 플랫폼에 관계없이 사용 가능하다.(예: Java, c, c++, c#, PHP, 코틀린, Go언어 등등..)
          처리방식은 Object를 String형식으로 직렬화(serialize) 처리를 해서 전송한다.
          따라서 다시 사용하고자 한다면 JSON문서형식을 Javascript Object형식으로 변환하여 사용해야 한다.
    1.데이터형식 ==> "key" : "value"
    2.JSON객체는 중괄호({})로 둘러싼다.
    3.JSON배열은 대괄호([])로 둘러싼다.
      {
        "회원정보" : [
          {"성":"홍", "이름":"길동"},
          {"성":"김", "이름":"말숙"},
          {"성":"이", "이름":"기자"},
          {"성":"소", "이름":"나무"}
        ]
      }
    4.JSON텍스를 Javascript객체로 변환하는 방식 : stringify(), parse()
      (1) JSON.stringify() : Javascript객체(Object)를 JSON형식의 문자열로 변경
      (2) JSON.parse() : JSON형식의 문자열을 Javascript객체(Object)로 변경
    
  </pre>
</div>
</body>
</html>